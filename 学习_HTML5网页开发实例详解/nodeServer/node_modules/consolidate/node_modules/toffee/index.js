// Generated by CoffeeScript 1.3.3
(function() {
  var e, engine, view, __express;

  engine = require('./lib/engine').engine;

  view = require('./lib/view').view;

  exports.engine = engine;

  e = new engine({
    verbose: false,
    prettyPrintErrors: true
  });

  exports.expressEngine = e;

  exports.render = e.run;

  __express = exports.__express = function(filename, options, cb) {
    return e.run(filename, options, function(err, res) {
      if (err) {
        return cb(new Error(err));
      } else {
        return cb(null, res);
      }
    });
  };

  exports.__consolidate_engine_render = function(filename, options, cb) {
    var eng;
    if ((options.cache != null) && options.cache) {
      eng = e;
    } else {
      eng = new engine({
        verbose: false,
        prettyPrintErrors: true
      });
    }
    return eng.run(filename, options, function(err, res) {
      if (err) {
        return cb(new Error(err));
      } else {
        return cb(null, res);
      }
    });
  };

  exports.str_render = function(template_str, options, cb) {
    var err, res, v, _ref;
    v = new view(template_str, options);
    _ref = v.run(options), err = _ref[0], res = _ref[1];
    return cb(err, res);
  };

  exports.compile = require('./lib/view').expressCompile;

}).call(this);
